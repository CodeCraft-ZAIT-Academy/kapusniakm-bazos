<!DOCTYPE html>
<html lang="sk">

<head>
    <meta charset="UTF-8">
    <title>Bazod – dohoda</title>
    <link rel="icon" type="image/x-icon" href="male.png">

    <link rel="stylesheet" href="bazosP1.css">


    <link rel="stylesheet" href="dohodnut.css">
</head>

<body>

<script>
    function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
    }

    function openLogin() {
        document.getElementById("loginPopup").style.display = "flex";
    }

    function closeLogin() {
        document.getElementById("loginPopup").style.display = "none";
    }

    window.onload = function () {
        const savedName = localStorage.getItem("loggedName");
        if (savedName) {
            document.getElementById("userDisplay").textContent = savedName;
        }
    };

    function login() {
        const name = document.getElementById("fullname").value;
        const user = document.getElementById("username").value;
        const pass = document.getElementById("password").value;

        const msg = document.getElementById("loginMessage");
        const userDisplay = document.getElementById("userDisplay");

        const correctEmail = "kapusniakmato@gmail.com";
        const correctPass = "1234";

        if (user === correctEmail && pass === correctPass && name.trim() !== "") {
            msg.style.color = "green";
            msg.textContent = "Vitaj, " + name + "!";
            userDisplay.textContent = name;
            localStorage.setItem("loggedName", name);
            setTimeout(() => closeLogin(), 1000);
        } else {
            msg.style.color = "red";
            msg.textContent = "Zlé meno, email alebo heslo!";
        }
    }

    function logout() {
        localStorage.removeItem("loggedName");
        document.getElementById("userDisplay").textContent = "";
    }


    function buyItem() {
        const user = localStorage.getItem("loggedName");

        if (!user) {
            alert("Musíš byť prihlásený!");
            openLogin();
            return;
        }

        document.getElementById("smsPopup").style.display = "flex";
    }

    function verifySMS() {
    const code = document.getElementById("smsCode").value;

    if (code === "1234") {
        alert("Úspešne overené!");

        document.getElementById("smsPopup").style.display = "none";

        document.getElementById("kontaktPredajcu").style.display = "block";
    } else {
        alert("Zlý SMS kód!");
    }
}


    function closeSMS() {
        document.getElementById("smsPopup").style.display = "none";
    }
</script>



<div class="header1">
    <div class="nazov">
        <a class="nazov-text" href="index.html">Bazod</a>
    </div>

    <div class="searchbar">
        <input class="searchbar-text" type="search" placeholder="Search">
    </div>

    <div class="oblubene-inz">
        <div id="userDisplay" class="user-display"></div>
        <button class="oblubenei-button" onclick="openLogin()">
            <img class="prihlasimg" src="https://cdn-icons-png.flaticon.com/512/310/310818.png">
        </button>
    </div>

    <div class="moje-inz">
        <a href="moje-inz.html">
            <input class="mojei-text" type="button" value="Moje inzeráty">
        </a>
    </div>

    <div class="pridat-inzerat">
        <a href="pridat-inz.html">
            <input class="pridati-text" type="button" value="Pridať inzerát">
        </a>
    </div>

    <div class="toggle-dark">
        <button class="dark-toggle" onclick="toggleDarkMode()"></button>
    </div>
</div>


<div class="product-page">

    <div class="product-karta">
        <h2>Váš produkt:</h2>
        <img src="male.png">
        <p><strong>Cena:</strong> dohodou</p>
        <p><strong>Predajca:</strong> Matej Kapusniak</p>
        <p id="kontaktPredajcu" style="display:none;">
    <strong style="color: red;">Kontakt na predajcu:</strong>
    <a style="color: red;" href="mailto:kapusniakmato@gmail.com"> kapusniakmato@gmail.com</a>
        </p>
        <p>Kliknutím na tlačidlo kúpiť sa vám zobrazí kontakt na predajcu (Je potrebné sa overiť).</p>

        <button class="buy-btn" onclick="buyItem()">Kúpiť</button>
    </div>

</div>


<div id="loginPopup" class="login-popup">
    <div class="login-box">
        <h2>Prihlásenie</h2>
        <input class="heslo" type="text" id="fullname" placeholder="Meno">
        <input class="heslo" type="email" id="username" placeholder="Email">
        <input class="heslo" type="password" id="password" placeholder="Heslo">

        <button onclick="login()">Prihlásiť sa</button>
        <button onclick="logout()">Odhlásiť</button>
        <button onclick="closeLogin()">Zatvoriť</button>

        <p id="loginMessage">Zadajte meno, email a heslo</p>
    </div>
</div>


<div id="smsPopup" class="login-popup">
    <div class="login-box">
        <h2>Overenie SMS</h2>
        <input class="heslo" type="text" id="smsCode" placeholder="SMS kód">

        <button onclick="verifySMS()">Overiť</button>
        <button onclick="closeSMS()">Zrušiť</button>

        <p><small>Testovací kód: 1234</small></p>
    </div>
</div>



<div class="footer-div">
    <div class="footer">
        <ul class="footer-content">
            <li class="kontakt"><a class="kontakt" href="kontakt.html">Kontakt</a></li>
            <li class="link"><strong>Adresa:</strong> 01361 Kotešová</li>
            <li class="link"><strong>Tel. číslo:</strong> 123456789</li>
            <li class="link"><strong>Email:</strong> kapusniakmato@gmail.com</li>
        </ul>
    </div>
</div>

</body>
</html>
